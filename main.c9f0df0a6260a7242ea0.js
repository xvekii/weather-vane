(()=>{var e,t,o,n,r={122(e,t,o){var n={"./clear-day.svg":[643,643],"./clear-night.svg":[55,55],"./cloudy.svg":[107,107],"./dark-mode.svg":[885,885],"./degrees.svg":[270,270],"./fog.svg":[817,817],"./hail.svg":[177,177],"./light-mode.svg":[675,675],"./partly-cloudy-day.svg":[811,811],"./partly-cloudy-night.svg":[271,271],"./precip.svg":[222,222],"./rain-snow-showers-day.svg":[540,540],"./rain-snow-showers-night.svg":[160,160],"./rain-snow.svg":[875,875],"./rain.svg":[61,61],"./showers-day.svg":[421,421],"./showers-night.svg":[825,825],"./sleet.svg":[712,712],"./snow-showers-day.svg":[277,277],"./snow-showers-night.svg":[497,497],"./snow.svg":[642,642],"./thunder-rain.svg":[986,986],"./thunder-showers-day.svg":[544,544],"./thunder-showers-night.svg":[132,132],"./thunder.svg":[119,119],"./units.svg":[256,256],"./wind.svg":[313,313]};function r(e){if(!o.o(n,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return o.e(t[1]).then(()=>o.t(r,17))}r.keys=()=>Object.keys(n),r.id=122,e.exports=r}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e](o,o.exports,c),o.exports}c.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"==typeof o.then)return o}var r=Object.create(null);c.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&o;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>o[e]);return a.default=()=>o,c.d(r,a),r},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce((t,o)=>(c.f[o](e,t),t),[])),c.u=e=>e+"."+{55:"859ee3549bd46eb07d7e",61:"f3041882e6e34cebc894",107:"b8f9a2da53dec24bf32e",119:"a14314277f1ff31a2341",132:"606eb843be5e6e1f76f9",160:"e291ea6c2849d7e7172c",177:"1d861fd5f6ca532eb78d",222:"e8973078e026d7e36d45",256:"7bcb7ad19b1ac8b816c3",270:"39b37e5fb8f0dc9f2a24",271:"ce6975f9aefddb249e85",277:"585de39d9049a03023aa",313:"c6751be592061436e4c2",421:"4f3924a2131b722d62a5",497:"3e7e394806818beae4cb",540:"4c711a64e805aac96723",544:"304ec6f02e37065fd587",642:"3d2e69a4398c78a53943",643:"c00cdd7257a6a59ad9ac",675:"aa3df1aebbc29fc3d9b7",712:"ab521d88bd3ce6e35764",811:"bb7d2efcbe2aa375e809",817:"65a36d5c77e315a4c894",825:"762de5757aebd6ff91ee",875:"1dde797ffaf2d4681bf1",885:"be3df8e085b8715b6137",986:"0b6db5894cae20478f04"}[e]+".js",c.miniCssF=e=>{},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},n="weather-vane:",c.l=(e,t,r,a)=>{if(o[e])o[e].push(t);else{var s,i;if(void 0!==r)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+r){s=u;break}}s||(i=!0,(s=document.createElement("script")).charset="utf-8",c.nc&&s.setAttribute("nonce",c.nc),s.setAttribute("data-webpack",n+r),s.src=e),o[e]=[t];var m=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=o[e];if(delete o[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),i&&document.head.appendChild(s)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),(()=>{var e={792:0};c.f.j=(t,o)=>{var n=c.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise((o,r)=>n=e[t]=[o,r]);o.push(n[2]=r);var a=c.p+c.u(t),s=new Error;c.l(a,o=>{if(c.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}},"chunk-"+t,t)}};var t=(t,o)=>{var n,r,[a,s,i]=o,d=0;if(a.some(t=>0!==e[t])){for(n in s)c.o(s,n)&&(c.m[n]=s[n]);i&&i(c)}for(t&&t(o);d<a.length;d++)r=a[d],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=self.webpackChunkweather_vane=self.webpackChunkweather_vane||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),(()=>{"use strict";const e=({classes:e})=>{const t=document.createElement("div");return t.classList.add(...e),t},t=({classes:e,imgSrc:t,imgClass:o,imgAlt:n})=>{const r=document.createElement("span");if(r.classList.add(...e),t){const e=document.createElement("img");o&&e.classList.add(o),e.src=t,e.alt=n,r.appendChild(e)}return r},o=({classes:e,imgSrc:t,imgAlt:o})=>{const n=document.createElement("img");return e.length&&n.classList.add(...e),t&&(n.src=t),o&&(n.alt=o),n};function n(e){e&&function(e){e.textContent="Dark mode";i({iconName:"dark-mode",iconRef:o({classes:["theme-icon"]}),iconCont:e})}(e),document.body.classList.add("dark"),localStorage.setItem("darkmode","active")}function r(e){e.classList.remove("is-visible")}function a(){return"us"===localStorage.getItem("units")?"mph":"km/h"}function s(){const n=e({classes:["hourly-wrap","row"]}),r=t({classes:["hours"]}),a=t({classes:["hourly-icon-wrap"]}),c=o({classes:["hourly-icon"]}),s=t({classes:["hourly-temp"]}),i=t({classes:["hourly-precip-wrap"]}),d=o({classes:["hourly-precip-icon"]}),l=t({classes:["hourly-precip"]});return a.append(c),i.append(l),n.append(r,a,s,i),{rowWrapper:n,hours:r,hourlyIconWrap:a,hourlyIcon:c,hourlyTemp:s,hourlyPrecipWrapper:i,hourlyPrecipIcon:d,hourlyPrecip:l}}function i({iconName:e,iconRef:t,iconCont:o}){c(122)(`./${e}.svg`).then(e=>{t.src=e.default,o.appendChild(t)})}function d(e,t){e.replaceChildren(),e.classList.remove(t)}const l="°C, km/h",u="°F, mph",m=document.querySelector("#searchForm");m.addEventListener("submit",e=>{e.preventDefault()});const p=document.querySelector("#query"),h=m.querySelector(".loader"),f=document.createElement("div"),v=document.querySelector(".settings-menu-btn"),y=document.querySelector(".settings-menu"),g=document.querySelector(".main-inner-content-right"),C=document.querySelector(".main-weather-img"),b=document.querySelector(".theme-btn"),w=document.querySelector(".units-btn"),S=document.querySelector(".units-txt"),k=o({classes:["theme-icon"]}),A=o({classes:["units-icon"]}),x="Shanghai, China";let L=localStorage.getItem("darkmode")||"inactive";"active"===L&&n(b);let I=localStorage.getItem("units")||"metric";async function E(n,c){const d=n||x,l=c||"metric";try{h.classList.add("is-visible");const n=await async function(e="Đurđevac, Croácia",t="metric"){try{const o=t;localStorage.setItem("units",t);const n=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${encodeURIComponent(e)}?unitGroup=${o}&elements=add%3Aaddress%2Cadd%3Alatitude%2Cadd%3Alongitude%2Cadd%3AresolvedAddress%2Cadd%3Atimezone%2Cadd%3Atzoffset%2Cremove%3Acloudcover%2Cremove%3Adew%2Cremove%3Afeelslikemax%2Cremove%3Afeelslikemin%2Cremove%3Amoonphase%2Cremove%3Aprecipcover%2Cremove%3Apressure%2Cremove%3Asevererisk%2Cremove%3Asnow%2Cremove%3Asnowdepth%2Cremove%3Asolarenergy%2Cremove%3Asolarradiation%2Cremove%3Astations%2Cremove%3Auvindex%2Cremove%3Avisibility%2Cremove%3Awinddir%2Cremove%3Awindgust&include=days%2Chours%2Ccurrent%2Calerts%2Cevents&key=H9CXBS2KVNGA3AW4L8PF8PGK4&contentType=json`,r=await fetch(n);if(!r.ok)throw new Error(`Response status: ${r.status}`);return await r.json()}catch(e){throw console.error("Error fetching weather:",e),e}}(d,l);localStorage.setItem("lastLocation",d),function({locationStr:e,input:t}){t.value=e}({locationStr:(u=n).address,input:p}),function({temp:e,currConditions:t,feelsLike:o}){const n=document.querySelector(".main-temp-num"),r=document.querySelector(".main-feels-like"),c=document.querySelector(".main-weather-txt"),s="mph"===a()?"F":"C",i=Math.round(e);n.textContent=`${i}°`;const d=o,l=Math.round(d);r.textContent=`Feels like ${l}°${s}`,c.textContent=t}({temp:u.currentConditions.temp,currConditions:u.currentConditions.conditions,feelsLike:u.currentConditions.feelslike}),function({humidity:e,windSpeed:t,sunriseTime:o,sunsetTime:n,alertsArr:r}){const c=document.querySelector(".humidity-val"),s=document.querySelector(".windspeed-val"),i=document.querySelector(".sunrise-val"),d=document.querySelector(".sunset-val"),l=document.querySelector(".severe-alerts-txt"),u=o.slice(0,5),m=n.slice(0,5),p=a();c.textContent=`${Math.round(e)}%`,s.textContent=`${Math.round(t)} ${p}`,i.textContent=u,d.textContent=m;const h=0!==r.length?r[0].description:"There are no alerts issued at this time.";l.textContent=h}({humidity:u.currentConditions.humidity,windSpeed:u.currentConditions.windspeed,sunriseTime:u.currentConditions.sunrise,sunsetTime:u.currentConditions.sunset,alertsArr:u.alerts}),function({data:e}){const t=document.querySelector(".hourly-card-inner-content");t.replaceChildren();const o=e.currentConditions.datetime.slice(0,2);let n=0,r=1,a=24,c=Number(o)+2,d=0;for(;n<r;n++){for(;c<a;c++){const{rowWrapper:o,hours:r,hourlyIconWrap:a,hourlyIcon:l,hourlyTemp:u,hourlyPrecipWrapper:m,hourlyPrecipIcon:p,hourlyPrecip:h}=s(),f=e.days[n].hours[c].datetime.slice(0,5),v=e.days[n].hours[c].icon,y=e.days[n].hours[c].precipprob,g=e.days[n].hours[c].temp;r.textContent=f,i({iconName:v,iconRef:l,iconCont:a}),u.textContent=`${Math.round(g)}°`,i({iconName:"precip",iconRef:p,iconCont:m}),h.textContent=`${Math.round(y)}%`,t.append(o),24!==d&&d++}d<a&&(a-=d,r=2,c=0,d=24)}}({data:u}),function({data:n}){const r=document.querySelector(".daily-card-inner-content");r.replaceChildren();const a={weekday:"short"};n.days.forEach((n,c)=>{const{rowWrapper:s,dayOfWeek:d,dailyIconWrap:l,dailyIcon:u,dailyTemp:m,dailyPrecipWrapper:p,dailyPrecipIcon:h,dailyPrecip:f}=function(){const n=e({classes:["daily-wrap","row"]}),r=t({classes:["day-of-week"]}),a=t({classes:["daily-icon-wrap"]}),c=o({classes:["daily-icon"]}),s=t({classes:["daily-temp"]}),i=t({classes:["daily-precip-wrap"]}),d=o({classes:["daily-precip-icon"]}),l=t({classes:["daily-precip"]});return a.append(c),i.append(l),n.append(r,a,s,i),{rowWrapper:n,dayOfWeek:r,dailyIconWrap:a,dailyIcon:c,dailyTemp:s,dailyPrecipWrapper:i,dailyPrecipIcon:d,dailyPrecip:l}}(),v=new Date(n.datetime).toLocaleDateString(void 0,a),y=n.temp,g=n.icon,C=n.precipprob;d.textContent=0===c?"Today":v,i({iconName:g,iconRef:u,iconCont:l}),m.textContent=`${Math.round(y)}°`,i({iconName:"precip",iconRef:h,iconCont:p}),f.textContent=`${Math.round(C)}%`,r.append(s)})}({data:u});const c=n.currentConditions.icon;c?i({iconName:c,iconRef:C,iconCont:g}):console.log("Icon error"),r(h)}catch(e){r(h),console.log(e)}var u}w.dataset.units=I,E(localStorage.getItem("lastLocation")||x,I),p.addEventListener("input",async()=>{if(!p.value.trim())return void d(f,"location");const e=p.value.trim();if(e.length<2)return;const t=await async function(e){try{const t=await fetch(`https://api.weatherapi.com/v1/search.json?key=bd15706d81c640a398a191135262501&q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(e){return console.error("Error fetching locations:",e),[]}}(e);!function({locations:e,locationsDiv:t,form:o}){t.replaceChildren(),0!==e.length?(e.forEach(e=>{const o=document.createElement("span");o.textContent=`${e.name}, ${e.country}`,t.appendChild(o),o.classList.add("loc-span")}),o.appendChild(t),t.classList.add("location")):t.classList.remove("location")}({locations:t,locationsDiv:f,form:m})}),p.addEventListener("blur",()=>{setTimeout(()=>{p.value.trim()||(p.value=localStorage.getItem("lastLocation")||x)},200)}),f.addEventListener("click",e=>{const t=e.target.closest(".loc-span");t&&(e.preventDefault(),E(t.textContent.trim(),I),p.value="",d(f,"location"))}),v.addEventListener("click",()=>{"active"===L?(b.textContent="Dark theme",i({iconName:"dark-mode",iconRef:k,iconCont:b})):(b.textContent="Light theme",i({iconName:"light-mode",iconRef:k,iconCont:b}));const e=localStorage.getItem("units")||"metric";w.dataset.units=e,S.textContent="us"===e?u:l,i({iconName:"units",iconRef:A,iconCont:w}),y.classList.toggle("active")}),y.addEventListener("click",e=>{const t=e.target;t.closest(".theme-btn")&&(L=localStorage.getItem("darkmode"),"active"!==L?n(b):function(e){e&&function(e){e.textContent="Light mode",i({iconName:"light-mode",iconRef:o({classes:["theme-icon"]}),iconCont:e})}(e),document.body.classList.remove("dark"),localStorage.setItem("darkmode","inactive")}(b)),t.closest(".units-btn")&&("us"===w.dataset.units?(I="metric",w.dataset.units="metric",S.textContent=l,localStorage.setItem("units","metric")):(I="us",w.dataset.units="us",S.textContent=u,localStorage.setItem("units","us")),E(localStorage.getItem("lastLocation")||x,I))})})()})();
//# sourceMappingURL=main.c9f0df0a6260a7242ea0.js.map